import pytest



@pytest.mark.parametrize(
    'timestamp,month',
    (
        # Non leap year.
        (0, 1),
        (2678399, 1),
        (2678400, 2),
        (5097599, 2),
        (5097600, 3),
        (7775999, 3),
        (7776000, 4),
        (10367999, 4),
        (10368000, 5),
        (13046399, 5),
        (13046400, 6),
        (15638399, 6),
        (15638400, 7),
        (18316799, 7),
        (18316800, 8),
        (20995199, 8),
        (20995200, 9),
        (23587199, 9),
        (23587200, 10),
        (26265599, 10),
        (26265600, 11),
        (28857599, 11),
        (28857600, 12),
        (31535999, 12),
        (31536000, 1),

        # Leap Year
        (63071999, 12),
        (63072000, 1),
        (65750399, 1),
        (65750400, 2),
        (68255999, 2),
        (68256000, 3),
        (70934399, 3),
        (70934400, 4),
        (73526399, 4),
        (73526400, 5),
        (76204799, 5),
        (76204800, 6),
        (78796799, 6),
        (78796800, 7),
        (81475199, 7),
        (81475200, 8),
        (84153599, 8),
        (84153600, 9),
        (86745599, 9),
        (86745600, 10),
        (89423999, 10),
        (89424000, 11),
        (92015999, 11),
        (92016000, 12),
        (94694399, 12),
        (94694400, 1),
    ),
)
def test_get_month_from_timestamp(deployed_contracts, timestamp, month):
    crontab = deployed_contracts.DateTime
    assert crontab.getMonth(timestamp) == month

